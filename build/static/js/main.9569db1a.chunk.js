(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,function(e,n,t){e.exports={board:"Board_board__2NBQM",boardBackground:"Board_boardBackground__2po14",gridCell:"Board_gridCell__pho5B"}},,function(e,n,t){e.exports={score:"Score_score__3Ht04",value:"Score_value__1wiFa"}},function(e,n,t){e.exports={header:"Header_header__3mObx",button:"Header_button__3Lscu"}},function(e,n,t){e.exports={tile:"Tile_tile__2ux10",populate:"Tile_populate__29Yra","populate-tile":"Tile_populate-tile__3bIKm"}},,,,,,,function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(12),o=t.n(a),u=(t(17),t(2)),i=t(3),l=t(11),s={UP:"UP",RIGHT:"RIGHT",DOWN:"DOWN",LEFT:"LEFT"},f=[2,4];function p(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1)+e)}function d(e){return JSON.parse(JSON.stringify(e))}function v(e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:180,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:15,c=r*(n+1)+n*t,a=r*(e+1)+e*t;return{x:c,y:a}}function j(e){var n=e.length||0,t=e[0]instanceof Array?e[0].length:0;if(0===t||0===n)return[];var r,c,a=[];for(r=0;r<t;r++)for(a[r]=[],c=0;c<n;c++)a[r][c]=e[c][r];return a}function b(e,n){e=function(e){return e.map((function(e,n){return e.map((function(e,t){return(null===e||void 0===e?void 0:e.prevPos)&&(e.prevPos=[n,t]),e}))}))}(d(e));var t=0,r=function(){return[s.UP,s.DOWN].includes(n)};e=r()?j(e):e;var c=[],a=e[0].length;return e.forEach((function(e){var r=[],o=null;e.forEach((function(e){null!==e&&(e.populated=!1,o&&e.value===o.value?(r[r.length-1]=Object(l.a)(Object(l.a)({},e),{},{value:2*e.value,prevPos:o.prevPos}),t+=e.value):(o=e,r.push(e)))}));var u=new Array(a-r.length).fill(null);[s.DOWN,s.RIGHT].includes(n)?c.push([].concat(Object(i.a)(u),r)):c.push([].concat(r,Object(i.a)(u)))})),c=r()?j(c):c,[t,c]}function h(e){var n=d(e),t=function(e){var n=[];return e.forEach((function(e,t){e.forEach((function(e,r){null===e&&n.push([t,r])}))})),n[p(0,n.length-1)]}(n),r=Object(u.a)(t,2),c=r[0],a=r[1];return n[c][a]={value:f[p(0,f.length-1)],prevPos:[c,a],populated:!0},n}function O(e,n){Object(r.useEffect)((function(){function t(t){t.key===e&&n()}return window.addEventListener("keyup",t),function(){return window.removeEventListener("keyup",t)}}),[])}var _=t(8),x=t.n(_),g=t(0);function m(e){var n=e.value;return Object(g.jsxs)("div",{className:x.a.score,children:[Object(g.jsx)("span",{children:"Score:"}),Object(g.jsx)("span",{className:x.a.value,children:n})]})}var w=t(9),N=t.n(w);function y(e){var n=e.score;return Object(g.jsxs)("header",{className:N.a.header,children:[Object(g.jsx)(m,{value:n}),Object(g.jsx)("button",{className:N.a.button,children:"New game"})]})}var P=t(10),E=t.n(P);function T(e){var n=e.row,t=e.col,c=e.value,a=e.populated,o=e.prevPos,l=Object(r.useState)(v.apply(void 0,Object(i.a)(o))),s=Object(u.a)(l,2),f=s[0],p=s[1];return Object(r.useEffect)((function(){p((function(){return setTimeout((function(){return p(v(n,t))}),10),v.apply(void 0,Object(i.a)(o))}))}),[n,t,o,p]),Object(g.jsx)("div",{className:"".concat(E.a.tile," ").concat(a?E.a.populate:""," tile tile-").concat(c),style:{left:"".concat(f.x,"px"),top:"".concat(f.y,"px")},children:c})}var A=c.a.memo(T),B=t(6),S=t.n(B);function L(e){var n=e.children;return Object(g.jsxs)("div",{className:S.a.board,children:[Object(g.jsx)("div",{className:S.a.boardBackground,children:new Array(16).fill(0).map((function(e,n){return Object(g.jsx)("div",{className:S.a.gridCell},n)}))}),n]})}function k(){var e=Object(r.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return new Array(arguments.length>1&&void 0!==arguments[1]?arguments[1]:4).fill(new Array(e).fill(null))}()),n=Object(u.a)(e,2),t=n[0],c=n[1],a=Object(r.useState)(0),o=Object(u.a)(a,2),i=o[0],l=o[1],f=function(){c((function(e){return h(e)}))},p=function(e){c((function(n){var t=b(n,e),r=Object(u.a)(t,2),c=r[0],a=r[1];return l((function(e){return e+c})),a}))};return O("ArrowLeft",(function(){p(s.LEFT),f()})),O("ArrowRight",(function(){p(s.RIGHT),f()})),O("ArrowUp",(function(){p(s.UP),f()})),O("ArrowDown",(function(){p(s.DOWN),f()})),Object(r.useEffect)((function(){c((function(e){return h(e)}))}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)(y,{score:i}),Object(g.jsx)(L,{size:16,children:t&&t.map((function(e,n){return e.map((function(e,t){return e&&Object(g.jsx)(A,{row:n,col:t,populated:e.populated,prevPos:e.prevPos,value:e.value},n+t)}))}))})]})}var F=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(k,{})})},D=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,20)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(F,{})}),document.getElementById("root")),D()}],[[19,1,2]]]);
//# sourceMappingURL=main.9569db1a.chunk.js.map